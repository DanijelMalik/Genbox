<UserControl x:Class="Genbox.Presentation.Windows.Views.MainView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:properties="clr-namespace:Genbox.Presentation.Windows.Properties"
             xmlns:viewModels="clr-namespace:Genbox.Presentation.Windows.ViewModels"
             xmlns:models="clr-namespace:Genbox.Presentation.Windows.Models"
             mc:Ignorable="d"
             d:DesignWidth="400" d:DataContext="{d:DesignInstance viewModels:MainViewModel}">
    <DockPanel LastChildFill="True">
        <Border DockPanel.Dock="Top" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="0,0,0,1" Background="White">
            <DockPanel LastChildFill="True">
                <Viewbox DockPanel.Dock="Right" HorizontalAlignment="Right" Height="48" Width="48" Margin="16,3,8,3">
                    <Path
                        Data="M18.660349,20.393C14.879011,20.393 11.806,23.468643 11.806,27.249899 11.806,31.026154 14.879011,34.103001 18.660349,34.103001 22.444386,34.103001 25.519998,31.026154 25.519998,27.249899 25.519998,23.468643 22.444386,20.393 18.660349,20.393z M50.07317,8.7561953C49.408178,8.7706149 48.735172,8.9156297 48.090648,9.2053407 45.51765,10.359123 44.36155,13.394207 45.51765,15.96858 46.671449,18.541552 49.709146,19.691384 52.283444,18.540251 54.856342,17.378819 56.012442,14.352736 54.856342,11.771862 53.990993,9.8450501 52.068145,8.7129386 50.07317,8.7561953z M15.597473,8.6000007L21.868224,8.6000007 22.20032,14.327933 22.20032,14.531032C23.236712,14.816134,24.218506,15.221134,25.133898,15.736836L25.253695,15.615635 29.675461,11.900828 34.111725,16.338337 30.296556,20.624846 30.165057,20.758946C30.683352,21.674349,31.08955,22.659951,31.378649,23.696451L31.544045,23.696451 37.293999,24.196451 37.293999,30.468565 31.566147,30.803267 31.378649,30.803267C31.08955,31.836972,30.683352,32.821373,30.165057,33.736874L30.280955,33.853974 33.993225,38.274582 29.558261,42.709496 25.271895,38.896988 25.133898,38.758988C24.218506,39.274586,23.236712,39.678185,22.20032,39.963387L22.20032,40.146988 21.868224,45.897 15.597473,45.897 15.093578,40.166485 15.093578,39.959488C14.064985,39.671688,13.084595,39.265385,12.174301,38.749787L12.040102,38.881485 7.7381763,42.709496 3.3033104,38.274582 6.9999428,33.869675 7.1522102,33.721176C6.6379356,32.807072,6.2343292,31.83057,5.9464817,30.803267L5.7499523,30.803267 0,30.468565 0,24.196451 5.7278118,23.696451 5.9464817,23.696451C6.2343292,22.665051,6.6379356,21.687248,7.1522102,20.775946L7.0128822,20.640444 3.1874237,16.338337 7.6209869,11.900828 12.027203,15.600036 12.174301,15.744536C13.084595,15.231535,14.064985,14.825334,15.093578,14.537533L15.093578,14.350033z M52.888157,0L57.259197,1.6601361 56.091211,5.7941664 56.035212,5.937414C56.665401,6.3971274,57.240894,6.9413698,57.753986,7.5533617L57.878984,7.4947021 61.949226,6.0845716 63.865797,10.35405 60.071657,12.331821 59.933659,12.393021C60.053354,13.18731,60.075457,13.977598,60.003952,14.758987L60.12245,14.803286 63.999998,16.682059 62.337223,21.053194 58.253977,19.771912 58.12108,19.721113C57.656389,20.352705,57.112095,20.928097,56.496105,21.441189L56.549604,21.556988 57.962284,25.627228 53.691446,27.541302 51.712375,23.744456 51.653774,23.615557C50.862186,23.736756,50.066597,23.760056,49.285309,23.687157L49.241009,23.800455 47.366036,27.678 42.991099,26.017823 44.277584,21.928082 44.325682,21.799183C43.696789,21.334391,43.121297,20.784899,42.607106,20.171606L42.487208,20.225006 38.469066,21.753483 36.553693,17.486847 40.297138,15.390477 40.441637,15.327978C40.321941,14.53499,40.299839,13.744601,40.372736,12.963413L40.24384,12.915114 36.321998,11.158738 37.984774,6.7851217 42.113513,7.9530752 42.263212,8.009104C42.728206,7.3840535,43.269797,6.8124616,43.879186,6.3033789L43.82189,6.1652506 42.29051,2.1496897 46.562749,0.22918414 48.656518,3.977782 48.722916,4.1289099C49.511906,4.0091622,50.299695,3.9843827,51.075585,4.0534113L51.127785,3.9218233z"
                        Stretch="Uniform"
                        Fill="{StaticResource ColorIconBrush}"
                        RenderTransformOrigin="0.5,0.5" />

                </Viewbox>
                <StackPanel>
                    <TextBlock Margin="8,8,0,0" FontWeight="Bold" FontSize="18" Text="{x:Static properties:Resources.Title_Application}" Foreground="{DynamicResource TitleBrush}" />
                    <TextBlock Margin="20,0,0,0">Generates various formats and copies output to clipboard</TextBlock>
                </StackPanel>
            </DockPanel>
        </Border>
        <Border DockPanel.Dock="Bottom" BorderBrush="{DynamicResource BorderBrush}" Background="White" BorderThickness="0,1,0,0" Padding="3">
            <DockPanel LastChildFill="True">
                <Border DockPanel.Dock="Bottom" BorderBrush="Crimson" BorderThickness="0,1,0,0" Margin="-3,5,-3,-3" Padding="5" Background="Crimson" x:Name="ErrorControl"
                        Visibility="Collapsed" Style="{DynamicResource ErrorBorderStyle}">
                    <TextBlock Text="{Binding ErrorMessage}" HorizontalAlignment="Center" Foreground="White" />
                </Border>

                <StackPanel x:Name="ButtonsPanel" DockPanel.Dock="Right" VerticalAlignment="Center">
                    <Button Width="16" Height="16" Style="{DynamicResource Button_ChromelessStyle}" Cursor="Hand" Margin="5,0" Command="{Binding CopyCommand}" ToolTip="Copy">
                        <Viewbox>
                            <Grid>
                                <Grid Width="16" Height="16" Background="Transparent" />
                                <Path
                                    Data="M31.687001,23.116L31.687001,31.394341C31.687001,31.394341,31.526705,36.832023,25.52624,36.359949L18.506,36.388395 18.506,49.587002 18.506001,54.153999 18.506,59.292614C18.506,59.812107,18.929218,60.233997,19.448625,60.233997L45.808704,60.233997C46.326101,60.233997,46.749998,59.812107,46.749998,59.292614L46.749998,24.057384C46.749998,23.539322,46.326101,23.116,45.808704,23.116z M20.552001,4.5669994L20.552001,14.60861C20.552001,14.60861,20.358706,21.203206,13.080177,20.631915L4.565999,20.665694 4.565999,48.4459C4.566,49.076302,5.0797424,49.587002,5.7100554,49.587002L14.742001,49.587002 14.742001,35.400336 18.161097,31.792807 18.166127,31.774705 26.474542,22.972 26.521163,22.972 29.953973,19.349999 38.822001,19.349999 38.822001,5.7076302C38.822001,5.0806808,38.309198,4.5669994,37.680792,4.5669994z M18.449971,0L37.680651,0C40.833681,0,43.391001,2.5571156,43.391001,5.707489L43.391001,19.349999 45.80884,19.349999C48.409018,19.35,50.517,21.458894,50.517,24.05704L50.517,59.292992C50.517,61.893593,48.409018,64,45.80884,64L19.448812,64C16.849223,64,14.742,61.893593,14.742001,59.292992L14.742001,54.153999 5.709774,54.153999C2.555994,54.153999,0,51.599316,0,48.445534L0,19.465691 4.1473293,15.090039 4.1532602,15.068708 14.229262,4.3929996 14.286199,4.3929996z"
                                    Stretch="Uniform" Fill="{DynamicResource DarkIconBrush}" Width="16" Height="16" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" />
                            </Grid>
                        </Viewbox>
                    </Button>
                    <Button Width="16" Height="16" Style="{DynamicResource Button_ChromelessStyle}" Cursor="Hand" Margin="5,8,5,0" Command="{Binding CopyAllCommand}" ToolTip="Copy All"
                            Visibility="{Binding ElementName=Expander, Path=IsExpanded, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Viewbox>
                            <Grid>
                                <Grid Width="16" Height="16" Background="Transparent" />
                                <Viewbox>
                                    <Path
                                        Data="M30.221986,43.750175L51.522991,65.050751 51.522991,48.900314 56.016994,53.390438 56.018993,72.720963 51.52399,72.720963 36.575988,72.720963 32.199985,68.340843 32.197986,68.230843 48.346992,68.22084 27.045984,46.920261z M23.41675,2.7189994C21.472833,2.7190001 19.895999,4.2111921 19.895999,6.0525041 19.895999,7.8918576 21.472833,9.3859997 23.41675,9.3859987 25.360666,9.3859997 26.937999,7.8918576 26.937999,6.0525041 26.937999,4.2111921 25.360666,2.7190001 23.41675,2.7189994z M23.41675,0C26.835689,0,29.628473,2.5418639,29.799682,5.7406969L29.807993,6.0519991 35.229999,6.0519991 35.229999,7.9879994 46.833999,7.9879994 46.833999,54.099731 41.696998,48.961639 41.696998,14.389 35.229999,14.389 35.229999,20.865 11.604,20.865 11.604,14.389 5.1370001,14.389 5.1370001,59.294998 33.080692,59.294998 38.126308,64.338997 0,64.338997 0,7.9879994 11.604,7.9879994 11.604,6.0519991 17.026008,6.0519991 17.034315,5.7406969C17.20545,2.5418639,19.997036,0,23.41675,0z"
                                        Stretch="Uniform" Fill="{DynamicResource DarkIconBrush}" Width="16" Height="16" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" />
                                </Viewbox>
                            </Grid>
                        </Viewbox>
                    </Button>
                    <Button Width="16" Height="16" Style="{DynamicResource Button_ChromelessStyle}" Cursor="Hand" Margin="5,8,5,0" Command="{Binding ClearHistoryCommand}"
                            ToolTip="Clear History"
                            Visibility="{Binding ElementName=Expander, Path=IsExpanded, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Viewbox>
                            <Grid>
                                <Grid Width="16" Height="16" Background="Transparent" />
                                <Viewbox>
                                    <Path
                                        Data="M33.977998,27.684L33.977998,58.102997 41.373998,58.102997 41.373998,27.684z M14.841999,27.684L14.841999,58.102997 22.237998,58.102997 22.237998,27.684z M4.0319996,22.433001L52.183,22.433001 52.183,63.999001 4.0319996,63.999001z M15.974,0L40.195001,0 40.195001,7.7260003 56.167001,7.7260003 56.167001,16.000999 0,16.000999 0,7.7260003 15.974,7.7260003z"
                                        Stretch="Uniform" Fill="{DynamicResource DarkIconBrush}" Width="16" Height="16" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" />
                                </Viewbox>
                            </Grid>
                        </Viewbox>
                    </Button>
                </StackPanel>

                <Expander x:Name="Expander">
                    <Expander.Header>
                        <TextBlock TextTrimming="CharacterEllipsis" Text="{Binding Result}" TextAlignment="Left" Margin="3"
                                   ToolTip="{Binding RelativeSource={RelativeSource Self}, Path=Text}" />
                    </Expander.Header>
                    <Expander.Triggers>
                        <EventTrigger RoutedEvent="Expander.Expanded">
                            <BeginStoryboard>
                                <Storyboard>
                                    <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Margin)" Storyboard.TargetName="ButtonsPanel">
                                        <EasingThicknessKeyFrame KeyTime="0" Value="0,30,0,8" />
                                    </ThicknessAnimationUsingKeyFrames>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.VerticalAlignment)" Storyboard.TargetName="ButtonsPanel">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static VerticalAlignment.Top}" />
                                    </ObjectAnimationUsingKeyFrames>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                        <EventTrigger RoutedEvent="Expander.Collapsed">
                            <BeginStoryboard>
                                <Storyboard>
                                    <ThicknessAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Margin)" Storyboard.TargetName="ButtonsPanel">
                                        <EasingThicknessKeyFrame KeyTime="0" Value="0" />
                                    </ThicknessAnimationUsingKeyFrames>
                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.VerticalAlignment)" Storyboard.TargetName="ButtonsPanel">
                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static VerticalAlignment.Center}" />
                                    </ObjectAnimationUsingKeyFrames>

                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Expander.Triggers>
                    <ListView MaxHeight="150" Margin="24,3,3,8" ItemsSource="{Binding History}" SelectedValue="{Binding SelectedHistoryRecord}">
                        <ListView.View>
                            <GridView d:DataContext="{d:DesignInstance models:HistoryRecord}">
                                <!--<GridViewColumn Header="Time" DisplayMemberBinding="{Binding Timestamp}" Width="Auto" />-->
                                <GridViewColumn Header="Text" DisplayMemberBinding="{Binding Text}" />
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Expander>
            </DockPanel>
        </Border>

        <Grid Margin="5">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Label Grid.Row="0" Content="Type:" />
            <ComboBox Grid.Row="1" Grid.Column="0" SelectedItem="{Binding SelectedService}" ItemsSource="{Binding Services}" DisplayMemberPath="DisplayName" SelectedValuePath="Id" />
            <ContentControl Grid.Row="2" Content="{Binding SelectedService}" />
            <DockPanel Grid.Row="3" LastChildFill="True">
                <CheckBox Content="Stay on Top" IsChecked="{Binding StayOnTop}" DockPanel.Dock="Right" VerticalAlignment="Center" />
                <StackPanel Margin="0,8" Orientation="Horizontal">
                    <Button Command="{Binding GenerateAndCopyCommand}" Margin="3" Padding="6,3">
                        <StackPanel Orientation="Horizontal">
                            <Viewbox>
                                <Path
                                    Data="F1M-515.802,331.242C-515.789,329.857,-515.923,328.495,-516.128,327.172L-510.578,322.745C-512.008,317.424,-514.756,312.655,-518.482,308.812L-525.111,311.322C-527.209,309.586,-529.594,308.195,-532.179,307.198L-533.233,300.195C-535.788,299.515 -538.464,299.107 -541.237,299.086 -544.006,299.07 -546.686,299.44 -549.259,300.088L-550.396,307.078C-552.989,308.052,-555.398,309.403,-557.514,311.117L-564.117,308.526C-567.886,312.318,-570.696,317.047,-572.198,322.354L-566.702,326.846C-566.924,328.172 -567.071,329.531 -567.083,330.919 -567.093,332.318 -566.962,333.672 -566.752,335.005L-572.311,339.427C-570.872,344.742,-568.124,349.518,-564.398,353.354L-557.769,350.851C-555.674,352.581,-553.284,353.971,-550.698,354.976L-549.656,361.976C-547.092,362.659 -544.416,363.065 -541.647,363.086 -538.875,363.096 -536.198,362.729 -533.63,362.086L-532.482,355.088C-529.891,354.114,-527.484,352.763,-525.362,351.062L-518.771,353.651C-514.998,349.851,-512.192,345.12,-510.687,339.82L-516.182,335.333C-515.959,333.997,-515.814,332.643,-515.802,331.242z M-541.53,344.336C-548.84,344.292 -554.737,338.318 -554.689,331 -554.641,323.68 -548.673,317.784 -541.354,317.833 -534.035,317.88 -528.139,323.851 -528.187,331.172 -528.235,338.495 -534.205,344.385 -541.53,344.336z"
                                    Stretch="Uniform" Fill="{StaticResource DarkIconBrush}" Width="16" Height="16" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                    <Path.RenderTransform>
                                        <TransformGroup>
                                            <TransformGroup.Children>
                                                <RotateTransform Angle="0" />
                                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                            </TransformGroup.Children>
                                        </TransformGroup>
                                    </Path.RenderTransform>
                                </Path>

                            </Viewbox>
                            <Label Margin="6,0,0,0" Content="_Generate" />
                        </StackPanel>
                    </Button>
                    <Button Margin="3" Padding="6,3" Command="{Binding ToggleSettingCommand}" Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <Viewbox>
                                <Path
                                    Data="M9.706234,51.033211C8.8426228,51.033211 7.9786911,51.362331 7.3172436,52.020577 5.9969063,53.335663 5.9969063,55.474945 7.3172436,56.795437 8.6401386,58.110325 10.772972,58.110325 12.093298,56.795437 13.408524,55.474945 13.408524,53.335663 12.093298,52.020577 11.433136,51.362331 10.569845,51.033211 9.706234,51.033211z M36.795098,36.901001L44.805398,44.975102 49.546398,45.976501 58.061998,58.8932 54.851097,62.112 41.920098,53.589703 40.921498,48.848801 32.923998,40.7915z M16.103878,36.897003L27.163997,47.955608C22.044195,53.497063,17.833112,58.106525,15.708069,60.224907L15.71067,60.228909C12.421604,63.528378 7.0906792,63.551678 3.8222942,60.290108 0.55794907,57.016735 0.58530045,51.697678 3.8848648,48.398205L3.8848648,48.395706z M5.8735714,13.560596C5.4733295,13.560595 5.0735779,13.714872 4.7649803,14.023427 4.1452255,14.637938 4.1452255,15.639454 4.7649803,16.241064L23.421496,34.906666C24.029501,35.525074 25.034608,35.519875 25.641512,34.906666 26.265116,34.290756 26.265116,33.29454 25.640112,32.67733L6.985096,14.023427C6.6745434,13.714872,6.2738132,13.560595,5.8735714,13.560596z M10.426508,9.009408C10.023506,9.009409 9.6205025,9.1634035 9.3171005,9.4713936 8.6946964,10.093763 8.6946964,11.078079 9.3171005,11.704289L27.973528,30.354492C28.590732,30.983501 29.588139,30.983501 30.194842,30.351893 30.809447,29.737183 30.809447,28.743666 30.194842,28.135555L11.535915,9.4713936C11.232513,9.1634035,10.82951,9.009409,10.426508,9.009408z M8.5140762,4.7760001C10.692169,4.7760001,12.869925,5.6080461,14.532036,7.2721382L38.497,31.147406 26.468217,43.188 2.4940948,19.300913C-0.83136749,15.983259 -0.83136749,10.591072 2.4940948,7.2721382 4.1575546,5.6080461 6.3359852,4.7760001 8.5140762,4.7760001z M48.401098,0C50.518183,3.3140125E-08,52.53647,0.42700887,54.374958,1.1887387L46.015612,9.5497122C44.506523,11.058777,44.506523,13.528916,46.015612,15.03804L49.194092,18.220291C50.701784,19.728214,53.174465,19.728214,54.682257,18.220291L62.933401,9.9636593C63.610695,11.713687 63.999998,13.609617 63.999998,15.595349 63.999998,24.207388 57.014242,31.187998 48.401098,31.187998 39.790455,31.187998 32.809998,24.207388 32.809998,15.595349 32.809998,6.9883914 39.790455,3.3140125E-08 48.401098,0z"
                                    Stretch="Uniform" Fill="{DynamicResource DarkIconBrush}" Width="16" Height="16" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5" />
                            </Viewbox>
                            <Label Margin="6,0,0,0" Content="_Settings" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </DockPanel>
        </Grid>
    </DockPanel>
</UserControl>